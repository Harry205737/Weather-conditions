<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LiteWeather</title>
<style>
  body{font-family:sans-serif;background:#000;color:#fff;text-align:center;padding:20px}
  #o{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:20px}
  .d{border:1px solid #444;padding:10px;border-radius:5px}
  b{display:block;font-size:1.2em}
  .c{color:#aaa;font-size:0.9em}
</style>
</head>
<body>
<h3>3-Day Forecast</h3>
<div id="m">Locating...</div>
<div id="o"></div>

<script>
const m=document.getElementById('m'),o=document.getElementById('o');
const W=(c)=>{
  const s={0:'Clear',1:'Clear',2:'Cloudy',3:'Overcast',45:'Fog',48:'Fog',51:'Drizzle',61:'Rain',71:'Snow',95:'Storm'};
  return s[c]||'Weather:'+c;
};

navigator.geolocation.getCurrentPosition(async(p)=>{
  try {
    const {latitude:lt,longitude:lg}=p.coords;
    m.innerText=`Lat:${lt.toFixed(2)} Lon:${lg.toFixed(2)}`;
    const r=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lt}&longitude=${lg}&daily=weathercode,temperature_2m_max,temperature_2m_min&forecast_days=3&timezone=auto`);
    const d=await r.json();
    
    d.daily.time.forEach((t,i)=>{
      const div=document.createElement('div');
      div.className='d';
      div.innerHTML=`<b>${t.slice(5)}</b><span class="c">${W(d.daily.weathercode[i])}</span><br>${Math.round(d.daily.temperature_2m_max[i])}° / ${Math.round(d.daily.temperature_2m_min[i])}°`;
      o.appendChild(div);
    });
  } catch(e){m.innerText='Fetch Failed';}
}, ()=>m.innerText='GPS Denied');
</script>
</body>
</html>
